<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurs Work | Web Cartography</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;500;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />

    <style>
        /* --- –î–ò–ó–ê–ô–ù: NIGHTFALL GLASS (–¢—ë–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –°–≤–µ—Ç–ª–∞—è –∫–∞—Ä—Ç–∞) --- */
        :root {
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω (–ù–æ—á–Ω–æ–µ –Ω–µ–±–æ –ê–ª–º–∞—Ç—ã) */
            --bg-gradient: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            --glass-bg: rgba(255, 255, 255, 0.05); /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–ª–æ–π */
            --glass-border: rgba(255, 255, 255, 0.1);
            --accent: #00d2ff; /* –ù–µ–æ–Ω–æ–≤—ã–π –≥–æ–ª—É–±–æ–π */
            --accent-hover: #3a7bd5;
            --text-white: #ffffff;
            --text-gray: #cfd8dc;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background: var(--bg-gradient);
            background-attachment: fixed;
            color: var(--text-white);
            min-height: 100vh;
        }

        /* --- –°–∫—Ä–æ–ª–ª–±–∞—Ä --- */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #0f2027; }
        ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 5px; }

        /* --- –®–∞–ø–∫–∞ (Header) --- */
        header {
            background: rgba(15, 32, 39, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--glass-border);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand {
            font-family: 'Exo 2', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .brand span { color: var(--accent); }

        .student-info {
            font-size: 0.8rem;
            text-align: right;
            color: var(--text-gray);
        }

        /* --- Hero Section --- */
        .hero {
            text-align: center;
            padding: 120px 20px;
            /* –§–û–¢–û –ó–ê–î–ù–ï–ì–û –§–û–ù–ê */
            background: linear-gradient(rgba(15, 32, 39, 0.6), rgba(15, 32, 39, 0.8)), url('https://sputnik.kz/img/22/53/225321_0:0:5906:3322_1920x0_80_0_0_6569bee7f833b588f92987b1fe2e4759.jpg');
            background-size: cover;
            background-position: center;
            border-bottom: 2px solid var(--glass-border);
        }

        .hero h1 {
            font-family: 'Exo 2', sans-serif;
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 210, 255, 0.5);
            text-transform: uppercase;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            color: #e0e0e0;
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        .hero-tag {
            display: inline-block;
            background: var(--accent);
            color: #0f2027;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
            margin-bottom: 20px;
        }

        /* --- –°–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ --- */
        .grid-section {
            padding: 50px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-family: 'Exo 2', sans-serif;
            font-size: 2rem;
            border-left: 5px solid var(--accent);
            padding-left: 20px;
            margin-bottom: 40px;
        }

        .cards-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .glass-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            overflow: hidden;
            backdrop-filter: blur(5px);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 210, 255, 0.15);
            border-color: var(--accent);
        }

        .img-container {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .glass-card:hover .img-container img {
            transform: scale(1.1);
        }

        .card-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .card-content h3 {
            margin: 0 0 10px 0;
            color: var(--accent);
            font-family: 'Exo 2', sans-serif;
        }

        .card-content p {
            font-size: 0.9rem;
            color: var(--text-gray);
            flex-grow: 1;
        }

        .btn-go {
            margin-top: 15px;
            padding: 10px;
            width: 100%;
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
            border-radius: 5px;
            text-transform: uppercase;
        }

        .btn-go:hover {
            background: var(--accent);
            color: #fff;
        }

        /* --- –°–µ–∫—Ü–∏—è –∫–∞—Ä—Ç—ã --- */
        .map-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            background: rgba(255, 255, 255, 0.02);
            padding: 20px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
        }

        .controls-panel {
            flex: 1;
            min-width: 250px;
            padding: 20px;
        }

        .map-frame {
            flex: 3;
            min-width: 300px;
            height: 600px;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid rgba(255,255,255,0.8); 
            position: relative;
        }

        #map {
            width: 100%;
            height: 100%;
        }

        select {
            width: 100%;
            padding: 15px;
            background: #1c2e36;
            color: white;
            border: 1px solid var(--glass-border);
            border-radius: 5px;
            margin-bottom: 20px;
            outline: none;
            font-size: 1rem;
        }

        .route-info {
            background: rgba(0, 210, 255, 0.1);
            border-left: 3px solid var(--accent);
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 5px;
        }

        .info-row span:last-child {
            font-weight: bold;
            color: var(--accent);
        }

        /* –õ–µ–≥–µ–Ω–¥–∞ –¥–ª—è –∫–∞—Ä—Ç—ã */
        .legend-box {
            margin-top: 20px;
            font-size: 0.85rem;
            color: #ccc;
        }
        .legend-item { display: flex; align-items: center; margin-bottom: 5px; }
        .dot { width: 10px; height: 10px; border-radius: 50%; margin-right: 10px; }

        footer {
            text-align: center;
            padding: 30px;
            margin-top: 50px;
            border-top: 1px solid var(--glass-border);
            font-size: 0.8rem;
            color: var(--text-gray);
        }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <div class="brand">WEB<span>GEO</span> KAZGASA</div>
            <div class="student-info">
                –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞: –í–µ–±-–∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—è<br>
                –°—Ç—É–¥–µ–Ω—Ç: <strong>–ê–ª—Ç–∞–π –ù—É—Ä—Å—É–ª—Ç–∞–Ω</strong> (–ì–∏–ö 22-1)
            </div>
        </div>
    </header>

    <div class="hero">
        <span class="hero-tag">–£–ß–ï–ë–ù–´–ô –¢–£–†–ò–°–¢–ò–ß–ï–°–ö–ò–ô –ü–†–û–ï–ö–¢</span>
        <h1>–ú–ê–†–®–†–£–¢–´ –ó–ê–ò–õ–ò–ô–°–ö–û–ì–û –ê–õ–ê–¢–ê–£</h1>
        <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ö–∞–∑–ì–ê–°–ê. –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–µ–∑–¥—ã –≤ –≥–æ—Ä–Ω—É—é –º–µ—Å—Ç–Ω–æ—Å—Ç—å. –¢–æ—á–∫–∞ —Å–±–æ—Ä–∞: –ö–∞–º–ø—É—Å –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.</p>
    </div>

    <section class="grid-section">
        <h2 class="section-title">–ö–∞—Ä—Ç–æ—á–∫–∏ –õ–æ–∫–∞—Ü–∏–π</h2>
        <div class="cards-wrapper">

            <div class="glass-card">
                <div class="img-container">
                    <img src="https://visitalmaty.kz/wp-content/uploads/2021/11/%D0%9C%D0%B5%D0%B4%D0%B5%D1%83-scaled-e1642653334143.jpg" alt="–ú–µ–¥–µ—É">
                </div>
                <div class="card-content">
                    <h3>–í—ã—Å–æ–∫–æ–≥–æ—Ä–Ω—ã–π –∫–∞—Ç–æ–∫ –ú–µ–¥–µ—É</h3>
                    <p>–ö—Ä—É–ø–Ω–µ–π—à–∏–π –≤ –º–∏—Ä–µ –≤—ã—Å–æ–∫–æ–≥–æ—Ä–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å –¥–ª—è –∑–∏–º–Ω–∏—Ö –≤–∏–¥–æ–≤ —Å–ø–æ—Ä—Ç–∞. –í—ã—Å–æ—Ç–∞: 1691 –º.</p>
                    <button class="btn-go" onclick="buildRouteTo(0)">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
                </div>
            </div>

            <div class="glass-card">
                <div class="img-container">
                    <img src="https://dknews.kz/storage/news/2023-10/c2ab52b5898c6c61e15de89312d1836b-1280px.webp" alt="–®—ã–º–±—É–ª–∞–∫">
                </div>
                <div class="card-content">
                    <h3>–ì–ö –®—ã–º–±—É–ª–∞–∫</h3>
                    <p>–õ—É—á—à–∏–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π –∫—É—Ä–æ—Ä—Ç –°–ù–ì. –ü–æ–¥—ä–µ–º–Ω–∏–∫–∏ –¥–æ –¢–∞–ª–≥–∞—Ä—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–∞–ª–∞ (3200 –º).</p>
                    <button class="btn-go" onclick="buildRouteTo(1)">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
                </div>
            </div>

            <div class="glass-card">
                <div class="img-container">
                    <img src="https://visitalmaty.kz/wp-content/uploads/2022/01/%D0%9A%D0%BE%D0%BA-%D1%82%D0%BE%D0%B1%D0%B5-4.jpg" alt="–ö–æ–∫-–¢–æ–±–µ">
                </div>
                <div class="card-content">
                    <h3>–ü–∞—Ä–∫ –ö–æ–∫-–¢–æ–±–µ</h3>
                    <p>–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –æ—Ç–¥—ã—Ö–∞ –Ω–∞ –≥–æ—Ä–µ —Å —Ç–µ–ª–µ–±–∞—à–Ω–µ–π. –õ—É—á—à–∞—è –ø–∞–Ω–æ—Ä–∞–º–∞ –≥–æ—Ä–æ–¥–∞ –Ω–∞ –∑–∞–∫–∞—Ç–µ.</p>
                    <button class="btn-go" onclick="buildRouteTo(2)">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
                </div>
            </div>

            <div class="glass-card">
                <div class="img-container">
                    <img src="https://ticketon.kz/files/media/bao-3.jpg" alt="–ë–ê–û">
                </div>
                <div class="card-content">
                    <h3>–ë–æ–ª—å—à–æ–µ –ê–ª–º–∞—Ç–∏–Ω—Å–∫–æ–µ –û–∑–µ—Ä–æ</h3>
                    <p>–í—ã—Å–æ–∫–æ–≥–æ—Ä–Ω—ã–π –≤–æ–¥–æ–µ–º –ª–µ–¥–Ω–∏–∫–æ–≤–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è. –ì–ª–∞–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–∏—Ç—å–µ–≤–æ–π –≤–æ–¥—ã.</p>
                    <button class="btn-go" onclick="buildRouteTo(3)">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
                </div>
            </div>

            <div class="glass-card">
                <div class="img-container">
                    <img src="https://arendacar.kz/wp-content/uploads/sites/16/2025/09/0_1_butvod_465.jpg" alt="–ë—É—Ç–∞–∫–æ–≤–∫–∞">
                </div>
                <div class="card-content">
                    <h3>–ë—É—Ç–∞–∫–æ–≤—Å–∫–∏–π –í–æ–¥–æ–ø–∞–¥</h3>
                    <p>–ñ–∏–≤–æ–ø–∏—Å–Ω–æ–µ —É—â–µ–ª—å–µ, –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ö–∞–π–∫–∏–Ω–≥–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.</p>
                    <button class="btn-go" onclick="buildRouteTo(4)">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
                </div>
            </div>

            <div class="glass-card">
                <div class="img-container">
                    <img src="https://visitalmaty.kz/wp-content/uploads/2022/07/%D0%A2%D0%B5%D1%80%D1%80%D0%B5%D0%BD%D0%BA%D1%83%D1%80-1-600x379.jpg" alt="–¢–µ—Ä—Ä–µ–Ω–∫—É—Ä">
                </div>
                <div class="card-content">
                    <h3>–¢–µ—Ä—Ä–µ–Ω–∫—É—Ä (–¢—Ä–æ–ø–∞ –∑–¥–æ—Ä–æ–≤—å—è)</h3>
                    <p>–ü–µ—à–µ—Ö–æ–¥–Ω–∞—è —Ç—Ä–æ–ø–∞ –≤–¥–æ–ª—å –ú–∞–ª–æ–π –ê–ª–º–∞—Ç–∏–Ω–∫–∏. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–æ–±–µ–∂–µ–∫ –∏ –ø—Ä–æ–≥—É–ª–æ–∫.</p>
                    <button class="btn-go" onclick="buildRouteTo(5)">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
                </div>
            </div>

        </div>
    </section>

    <section class="grid-section">
        <h2 class="section-title">–ì–µ–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –°–∏—Å—Ç–µ–º–∞</h2>
        <div class="map-wrapper">
            
            <div class="controls-panel">
                <p style="color: var(--accent); font-weight: bold; margin-bottom: 20px;">–ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø</p>
                
                <div style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 5px; margin-bottom: 20px;">
                    <small style="color: var(--text-gray);">–¢–û–ß–ö–ê –û–¢–ü–†–ê–í–õ–ï–ù–ò–Ø (CAMPUS):</small><br>
                    <strong>–ö–∞–∑–ì–ê–°–ê</strong><br>
                    <small style="color:#aaa;">43.205017, 76.874884</small>
                </div>

                <label>–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è:</label>
                <select id="destination-select" onchange="buildRouteTo(this.value)">
                    <option value="" disabled selected>-- –ö—É–¥–∞ –µ–¥–µ–º? --</option>
                    <option value="0">–ú–µ–¥–µ—É</option>
                    <option value="1">–®—ã–º–±—É–ª–∞–∫</option>
                    <option value="2">–ö–æ–∫-–¢–æ–±–µ</option>
                    <option value="3">–ë–ê–û</option>
                    <option value="4">–ë—É—Ç–∞–∫–æ–≤–∫–∞</option>
                    <option value="5">–¢–µ—Ä—Ä–µ–Ω–∫—É—Ä</option>
                </select>

                <div id="route-stats" class="route-info">
                    <div class="info-row">
                        <span>–î–∏—Å—Ç–∞–Ω—Ü–∏—è:</span>
                        <span id="dist-val">0 –∫–º</span>
                    </div>
                    <div class="info-row">
                        <span>–í—Ä–µ–º—è (–ê–≤—Ç–æ–±—É—Å):</span>
                        <span id="time-val">0 –º–∏–Ω</span>
                    </div>
                </div>

                <div class="legend-box">
                    <p style="color:white; border-bottom:1px solid #555; padding-bottom:5px;">–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ:</p>
                    <div class="legend-item"><div class="dot" style="background:red;"></div>–°—Ç–∞—Ä—Ç (–ö–∞–∑–ì–ê–°–ê)</div>
                    <div class="legend-item"><div class="dot" style="background:#2a81cb;"></div>–ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</div>
                    <div class="legend-item"><div class="dot" style="background:#9c27b0;"></div>–¢–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ (POI)</div>
                </div>
            </div>

            <div class="map-frame">
                <div id="map"></div>
            </div>

        </div>
    </section>

    <footer>
        <p>
            ¬© 2025 –ü–†–û–ï–ö–¢ –ü–û –í–ï–ë-–ö–ê–†–¢–û–ì–†–ê–§–ò–ò<br>
            –í—ã–ø–æ–ª–Ω–∏–ª: <strong>–ê–ª—Ç–∞–π –ù—É—Ä—Å—É–ª—Ç–∞–Ω</strong> | –ì—Ä—É–ø–ø–∞: <strong>–ì–∏–ö 22-1</strong>
        </p>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>

    <script>
        // --- –î–ê–ù–ù–´–ï ---
        // –°—Ç–∞—Ä—Ç: –ö–∞–∑–ì–ê–°–ê (–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
        const startPoint = { 
            lat: 43.205017, 
            lng: 76.874884, 
            title: "–ö–∞–∑–ì–ê–°–ê (Campus)" 
        };

        const destinations = [
            { id: 0, lat: 43.1574, lng: 77.0590, name: "–ú–µ–¥–µ—É" },
            { id: 1, lat: 43.1284, lng: 77.0807, name: "–®—ã–º–±—É–ª–∞–∫" },
            { id: 2, lat: 43.2335, lng: 76.9757, name: "–ö–æ–∫-–¢–æ–±–µ" },
            { id: 3, lat: 43.0506, lng: 76.9832, name: "–ë–ê–û" },
            { id: 4, lat: 43.1855, lng: 77.0950, name: "–ë—É—Ç–∞–∫–æ–≤–∫–∞" },
            { id: 5, lat: 43.2260, lng: 76.9660, name: "–¢–µ—Ä—Ä–µ–Ω–∫—É—Ä (–ù–∞—á–∞–ª–æ)" }
        ];

        // –¢–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ (POI)
        const pois = [
            { lat: 43.1700, lng: 77.0300, title: "–†–æ–¥–Ω–∏–∫ '–ê–∫-–ë—É–ª–∞–∫'", type: "üíß –ò—Å—Ç–æ—á–Ω–∏–∫ –≤–æ–¥—ã" },
            { lat: 43.2300, lng: 76.9740, title: "–ü–∞–º—è—Ç–Ω–∏–∫ The Beatles (–ö–æ–∫-–¢–æ–±–µ)", type: "üì∏ –§–æ—Ç–æ-–∑–æ–Ω–∞" },
            { lat: 43.1500, lng: 77.0650, title: "–ö–∞—Ñ–µ '–õ–∞—Å—Ç–æ—á–∫–∞' (–ú–µ–¥–µ—É)", type: "‚òï –ö–∞—Ñ–µ" },
            { lat: 43.1250, lng: 77.0850, title: "–ë–∞—Ä 3200 (–¢–∞–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ–≤–∞–ª)", type: "üèîÔ∏è –°–º–æ—Ç—Ä–æ–≤–∞—è" },
            { lat: 43.0600, lng: 76.9850, title: "–°–º–æ—Ç—Ä–æ–≤–∞—è –Ω–∞ —Ç—Ä—É–±–µ (–ë–ê–û)", type: "üì∏ –§–æ—Ç–æ-–∑–æ–Ω–∞" },
            { lat: 43.2200, lng: 76.9550, title: "–£–ª–∏—á–Ω—ã–µ —Ç—Ä–µ–Ω–∞–∂–µ—Ä—ã (–¢–µ—Ä—Ä–µ–Ω–∫—É—Ä)", type: "üèÉ –°–ø–æ—Ä—Ç" }
        ];

        // --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ö–ê–†–¢–´ ---
        var map = L.map('map').setView([43.22, 76.95], 11);

        // –°–í–ï–¢–õ–ê–Ø –ö–ê–†–¢–ê (OpenStreetMap Standard)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors',
            maxZoom: 19
        }).addTo(map);

        // --- –ò–ö–û–ù–ö–ò ---
        var universityIcon = new L.Icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize: [25, 41], iconAnchor: [12, 41], popupAnchor: [1, -34], shadowSize: [41, 41]
        });

        var locationIcon = new L.Icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize: [25, 41], iconAnchor: [12, 41], popupAnchor: [1, -34], shadowSize: [41, 41]
        });

        var poiIcon = new L.Icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png',
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize: [20, 32], iconAnchor: [10, 32], popupAnchor: [1, -28], shadowSize: [32, 32]
        });

        // –°—Ç–∞–≤–∏–º –º–∞—Ä–∫–µ—Ä —Å—Ç–∞—Ä—Ç–∞
        L.marker([startPoint.lat, startPoint.lng], {icon: universityIcon})
            .addTo(map)
            .bindPopup("<b>" + startPoint.title + "</b><br>–¢–æ—á–∫–∞ —Å–±–æ—Ä–∞");

        // –°—Ç–∞–≤–∏–º –º–∞—Ä–∫–µ—Ä—ã –ª–æ–∫–∞—Ü–∏–π
        destinations.forEach(d => {
            L.marker([d.lat, d.lng], {icon: locationIcon})
                .addTo(map)
                .bindPopup(`<b>${d.name}</b><br><button onclick="buildRouteTo(${d.id})">–ú–∞—Ä—à—Ä—É—Ç —Å—é–¥–∞</button>`);
        });

        // –°—Ç–∞–≤–∏–º –º–∞—Ä–∫–µ—Ä—ã POI
        pois.forEach(p => {
            L.marker([p.lat, p.lng], {icon: poiIcon})
                .addTo(map)
                .bindPopup(`<b>${p.type}</b><br>${p.title}`);
        });

        // --- –õ–û–ì–ò–ö–ê –ú–ê–†–®–†–£–¢–û–í ---
        var routingControl = null;

        function buildRouteTo(id) {
            var dest = destinations.find(x => x.id == id);
            if (!dest) return;

            // –°–∫—Ä–æ–ª–ª –∫ –∫–∞—Ä—Ç–µ
            document.querySelector('.map-wrapper').scrollIntoView({ behavior: 'smooth' });
            
            // –°–∏–Ω—Ö—Ä–æ–Ω —Å–µ–ª–µ–∫—Ç–∞
            document.getElementById('destination-select').value = id;

            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –º–∞—Ä—à—Ä—É—Ç
            if (routingControl) map.removeControl(routingControl);

            // –°—Ç—Ä–æ–∏–º –Ω–æ–≤—ã–π
            routingControl = L.Routing.control({
                waypoints: [
                    L.latLng(startPoint.lat, startPoint.lng),
                    L.latLng(dest.lat, dest.lng)
                ],
                routeWhileDragging: false,
                language: 'ru',
                showAlternatives: false,
                lineOptions: {
                    styles: [{color: '#0074D9', opacity: 0.7, weight: 6}] // –°–∏–Ω–∏–π —Ü–≤–µ—Ç –ª–∏–Ω–∏–∏
                },
                createMarker: function() { return null; },
                show: false 
            }).on('routesfound', function(e) {
                var routes = e.routes;
                var summary = routes[0].summary;
                
                document.getElementById('dist-val').innerText = (summary.totalDistance / 1000).toFixed(1) + " –∫–º";
                document.getElementById('time-val').innerText = Math.round(summary.totalTime / 60) + " –º–∏–Ω";
                
                document.getElementById('route-stats').style.display = 'block';
            }).addTo(map);
        }
    </script>
</body>
</html>